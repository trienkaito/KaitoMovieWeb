<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Movies Website</title>
    @* <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/MoviesWebsite.styles.css" asp-append-version="true" />
    <link href="~/css/sb-admin-2.min.css" rel="stylesheet"> *@
    <link href="~/lib/font-awesome/css/all.min.css" rel="stylesheet" type="text/css">
    <link href="~/client/css/plugins.css" rel="stylesheet">
    <link href="~/client/css/style.css" rel="stylesheet">
    <!-- CSS HLS Video player -->
    <link href="~/client/css/video-player.css" rel="stylesheet">
</head>
<style>
    .top-search1 {
        display: -webkit-flex;
        display: -moz-box;
        display: -ms-flexbox;
        display: flex;
        align-items: center;
        justify-content: flex-start;
        border: 4px solid #020d18;
        -webkit-border-radius: 3px;
        -moz-border-radius: 3px;
    }

    .top-search1 select,
    .top-search1 input {
        height: 46px;
        border-radius: 20px;
        background-color: #233a50 !important;
        font-family: 'Nunito', sans-serif;
        font-size: #abb7c4;
        color: #abb7c4;
        font-weight: 300;
        text-transform: none;
        min-width: 400px;
        max-width: 700px;
        border: none;
        padding: 0 20px;
        margin: 0 auto;
    }

    .top-search1 select {
        width: 20%;
        border-right: 1px solid #020d18;
        -webkit-appearance: none;
        -moz-appearance: none;
        background: url('../images/uploads/drop-icon.png') no-repeat right 20px center;
        text-transform: uppercase;
        color: #ffffff;
    }

    .top-search1 input::-webkit-input-placeholder {
        color: #abb7c4;
    }

    .main {
        background-color: #020d18;
    }
</style>

<body>
    <!--login form popup-->
    @* <div class="login-wrapper" id="login-content">
    <div class="login-content">
    <a href="#" class="close">x</a>
    <h3>Login</h3>
    <form method="post" action="#">
    <div class="row">
    <label for="username">
    Username:
    <input type="text" name="username" id="username" pattern="^[a-zA-Z][a-zA-Z0-9-_\.]{8,20}$"
    required="required" />
    </label>
    </div>

    <div class="row">
    <label for="password">
    Password:
    <input type="password" name="password" id="password"
    pattern="(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$"
    required="required" />
    </label>
    </div>
    <div class="row">
    <div class="remember">
    <div>
    <input type="checkbox" name="remember" value="Remember me"><span>Remember me</span>
    </div>
    <a href="#">Forget password ?</a>
    </div>
    </div>
    <div class="row">
    <button type="submit">Login</button>
    </div>
    <div class="remember">
    <a style="margin-top:20px" href="#">Don't have an account? Sing up</a>
    </div>

    </form>

    </div>
    </div> *@
    <!--end of login form popup-->
    <header class="ht-header full-width-hd">
        <div class="row">
            <nav id="mainNav" class="navbar navbar-default navbar-custom">
                <div class="navbar-header logo">
                    <div class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                        <span class="sr-only">Toggle navigation</span>
                        <div id="nav-icon1">
                            <span></span>
                            <span></span>
                            <span></span>
                        </div>
                    </div>
                    <a asp-controller="Home" asp-action="index">
                        <img class="logo" src="~/client/images/logo1.png" alt="" width="119" height="58" />
                    </a>
                </div>
                <div class="collapse navbar-collapse flex-parent" id="bs-example-navbar-collapse-1">
                    <ul class="nav navbar-nav flex-child-menu menu-left">
                        <li class="hidden">
                            <a href="#page-top"></a>
                        </li>
                        <li class="first">
                            <a class="btn btn-default  lv1" asp-controller="Home" asp-action="index">
                                Home
                            </a>
                        </li>
                        <li class="first">
                            <a class="btn btn-default  lv1" asp-controller="ViewMovies"
                                asp-action="index">
                                movies
                            </a>

                        </li>
                        <li class="dropdown first">
                            <a class="btn btn-default dropdown-toggle lv1" data-toggle="dropdown" data-hover="dropdown">
                                celebrities
                                <i class="fa fa-angle-down" aria-hidden="true"></i>
                            </a>
                            <ul class="dropdown-menu level1">
                                <li><a asp-controller="HomeActor" asp-action="Index">celebrity grid </a></li>
                                <li><a asp-controller="HomeActor" asp-action="IndexList">celebrity list</a></li>
                            </ul>
                        </li>

                        <li class="dropdown first">
                            <a class="btn btn-default dropdown-toggle lv1" data-toggle="dropdown" data-hover="dropdown">
                                category <i class="fa fa-angle-down" aria-hidden="true"></i>
                            </a>
                            <ul class="dropdown-menu level1" style="max-height:50vh;overflow:auto;">

                                @await Component.InvokeAsync("ListCategpry")

                            </ul>
                        </li>
                    </ul>
                    <ul class="nav navbar-nav flex-child-menu menu-right">
                        <partial name="_LoginPartial"></partial>
                        <partial name="_MenuManagePartial"></partial>
                    </ul>
                </div>
            </nav>
        </div>

        @await RenderSectionAsync("Search", required: false)


    </header>

    <partial name="_SearchPartial" />
    @RenderBody()


    <footer class="ht-footer full-width-ft">
        <div class="row">
            <div class="flex-parent-ft">
                <div class="flex-child-ft item1">
                    <a href="index-2.html"><img class="logo" src="~/client/images/logo1.png" alt="" /></a>
                    <p>
                        5th Avenue st, manhattan<br />
                        New York, NY 10001
                    </p>
                    <p>Call us: <a href="#">(+01) 202 342 6789</a></p>
                </div>
                <div class="flex-child-ft item2">
                    <h4>Resources</h4>
                    <ul>
                        <li><a href="#">About</a></li>
                        <li><a href="#">Blockbuster</a></li>
                        <li><a href="#">Contact Us</a></li>
                        <li><a href="#">Forums</a></li>
                        <li><a href="#">Blog</a></li>
                        <li><a href="#">Help Center</a></li>
                    </ul>
                </div>
                <div class="flex-child-ft item3">
                    <h4>Legal</h4>
                    <ul>
                        <li><a href="#">Terms of Use</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                        <li><a href="#">Security</a></li>
                    </ul>
                </div>
                <div class="flex-child-ft item4">
                    <h4>Account</h4>
                    <ul>
                        <li><a href="#">My Account</a></li>
                        <li><a href="#">Watchlist</a></li>
                        <li><a href="#">Collections</a></li>
                        <li><a href="#">User Guide</a></li>
                    </ul>
                </div>
                <div class="flex-child-ft item5">
                    <h4>Newsletter</h4>
                    <p>
                        Subscribe to our newsletter system now <br />
                        to get latest news from us.
                    </p>
                    <form action="#">
                        <input type="text" placeholder="Enter your email" />
                    </form>
                    <a href="#" class="btn">Subscribe now <i class="ion-ios-arrow-forward"></i></a>
                </div>
            </div>
            <div class="ft-copyright">
                <div class="ft-left">
                    <p>
                        <a target="_blank" href="https://www.templateshub.net">Templates Hub</a>
                    </p>
                </div>
                <div class="backtotop">
                    <p>
                        <a href="#" id="back-to-top">Back to top <i class="ion-ios-arrow-thin-up"></i></a>
                    </p>
                </div>
            </div>
        </div>
    </footer>
    @* <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script> *@

    <script src="~/client/js/jquery.js"></script>
    <script src="~/client/js/plugins.js"></script>
    <script src="~/client/js/plugins2.js"></script>
    <script src="~/client/js/custom.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script>

        $("document").ready(function () {
            var loading = $("#search-loading");
            loading.hide();
            var timer = null;

            $("#searchGlobal").keyup(function () {
                loading.show();
                if (timer) clearTimeout(timer);
                timer = setTimeout(() => {
                    $.ajax({
                        url: '@Url.Action("SearchMovie", "ViewMovies")',
                        method: 'POST',
                        data: {
                            searchString: $("#searchGlobal").val(),
                        },
                        success: function (response) {
                            console.log(response);
                            console.log(response.length);
                            $(".search-results").html(response);
                            // response.length <= 2 is null
                            if (response.length > 2) {
                                $(".search-results").show();
                            }
                            else
                            {
                                $(".search-results").hide();
                            }
                        },
                        error: function (xhr, status, error) {
                            console.error('Error:', status, error);
                            $(".search-results").hide();
                        }
                    });
                    loading.hide();
                }, 1000);
            });
        });

    </script>

    @await RenderSectionAsync("Scripts", required: false)
</body>

</html>
